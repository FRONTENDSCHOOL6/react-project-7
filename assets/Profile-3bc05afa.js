import{j as t,g as p,p as b}from"./index-f0d60930.js";import{r as o}from"./react-7b82c02c.js";import{u as g}from"./authStore-b41a3eaa.js";import{u as h}from"./reactRouter-bd0fbe8a.js";import"./extra-3c07f53d.js";function P(){var a,i,d;const n=h(),{authState:s}=g();console.log(s);const[j,c]=o.useState(!0),[r,u]=o.useState(null),f=e=>()=>{localStorage.setItem("selectedProfile",JSON.stringify(e)),n("/")};return o.useEffect(()=>{var m;(async()=>{var x;try{c(!0);const l=await b.collection("users").getOne((x=s==null?void 0:s.user)==null?void 0:x.id,{expand:"profiles"});u(l)}catch(l){console.log(l)}finally{c(!1)}})((m=s==null?void 0:s.user)==null?void 0:m.id)},[s]),console.log((a=r==null?void 0:r.expand)==null?void 0:a.profiles),console.log((i=r==null?void 0:r.expand)==null?void 0:i.profiles.map(e=>e.username)),t.jsx("section",{className:"bg-black w-screen h-screen flex items-center justify-center text-white my-auto relative pt-[2rem] lg:pt-[1.5rem] md:pt-[1rem]",children:t.jsxs("div",{className:"flex flex-col justify-center items-center min-h-full gap-12",children:[t.jsxs("div",{className:"flex flex-col gap-2",children:[t.jsx("h2",{className:"text-3xl text-center font-bold",children:"프로필 선택"}),t.jsx("p",{className:"box-border text-neutral-400 text-lg break-keep mt-2 px-8 py-0",children:"시청할 프로필을 선택해주세요."})]}),t.jsx("ul",{className:"flex items-center justify-center gap-7 w-2/3",children:(d=r==null?void 0:r.expand)==null?void 0:d.profiles.map(e=>t.jsxs("li",{className:"flex flex-col justify-center items-center w-full hover:-translate-y-3 duration-200 transition-all h-full object-cover",children:[t.jsx("button",{type:"button",className:"border-solid border-white border-4 block overflow-hidden transition-all duration-[0.3s] p-0 rounded-[3px] w-[13.87rem] h-[13.875rem] object-cover",onClick:f(e),children:t.jsx("img",{src:p(e,"poster"),alt:`유저 ${e.username}의 프로필 이미지`,className:"w-full h-full object-cover"})}),t.jsx("p",{className:"text-sm text-neutral-400 my-2",children:e.username})]},e.username))}),t.jsx("button",{type:"button",className:"block w-1/4 box-border border bg-black text-neutral-400 text-lg text-center px-0 py-3 border-solid border-[#4e4e4e] rounded",onClick:()=>{var e;return n(`/editprofiles/${(e=s==null?void 0:s.user)==null?void 0:e.id}`)},children:"프로필 편집"})]})})}export{P as default};
