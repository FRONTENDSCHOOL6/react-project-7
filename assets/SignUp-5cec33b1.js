import{p as f,j as s,c as C,W as q}from"./index-b4f137eb.js";import{r as c}from"./react-7b82c02c.js";import{h as R,s as V,A as $}from"./red-check-3271ed0f.js";import{u as D}from"./reactRouter-08e27dd4.js";import"./extra-3c07f53d.js";const _="/react-project-7/assets/clear-all.svg",W="/react-project-7/assets/gray-check1.svg",o="/react-project-7/assets/small-red-check.svg",i="/react-project-7/assets/small-gray-check.svg",L="rdRg",M="_8YoQ",k={Wrapper:L,input:M};function u({type:j="text",name:b,id:x,...w}){return s.jsxs("div",{className:k.Wrapper,children:[s.jsx("label",{htmlFor:x,className:k.label}),s.jsx("input",{type:j,name:b,id:x,className:k.input,...w})]})}u.propTypes={type:f.oneOf(["text","password","email","username"]),id:f.string.isRequired,name:f.string.isRequired,label:f.string.isRequired};const O="NYWi",U="_3mYS",G="b0ES",K="RT-G",Q="_89NW",J="VwvI",X="Ehfl",ss="rKv2",es="Y2bd",e={screen:O,contentWrapper:U,signup:G,subtitle:K,formSection:Q,basicForm:J,idvalidation:X,hidePasswordButton:ss,checkAgree:es};function ps(){const j=D(),b=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,12}$/,x=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,w=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,15}$/;console.log(C);const[as,S]=c.useState(!1),[v,y]=c.useState(!1),F=()=>{v?(h(!a),S(W),y(!1)):(h(!a),S($),y(!0))},[rs,A]=c.useState(!1),[a,h]=c.useState(!1),d=()=>{a?(A(o),h(!1)):(A(i),h(!0))},[t,E]=c.useState({username:"",email:"",password:"",passwordConfirm:""}),[r,H]=c.useState({username:!1,email:!1,password:!1,passwordConfirm:!1});c.useState({username:!1,email:!1,password:!1,passwordConfirm:!1});const I=()=>Object.values(r).every(m=>m===!1),[g,T]=c.useState(!0),[P,B]=c.useState(!0),z=async m=>{m.preventDefault();const{password:p,passwordConfirm:l,email:n,...ns}=t;if(p!==l){alert("비밀번호가 일치하지 않습니다. 다시 입력하세요.");return}await C.collection("users").create({...t,emailVisibility:!0}),console.log(C.authStore),alert("회원가입이 완료되었습니다 ❤ 가입된 정보로 로그인을 해주세요"),j("/signin")},N=((m,p=100)=>{let l;return(...n)=>{clearTimeout(l),l=setTimeout(m.bind(null,...n),p)}})(m=>{const{name:p,value:l}=m.target;let n;switch(p){case"username":n=b.test(l);break;case"email":n=x.test(l);break;case"password":n=w.test(l);break;case"passwordConfirm":n=t.password===l;break;default:return}H({...r,[p]:!n}),n&&E({...t,[p]:l})},100),Y=()=>{T(!g)},Z=()=>{B(!P)};return s.jsxs(s.Fragment,{children:[s.jsx(q,{children:s.jsx("title",{children:"SignUp - Taing"})}),s.jsx("div",{className:e.screen,children:s.jsxs("div",{className:e.contentWrapper,children:[s.jsx("h1",{className:e.signup,children:"티빙 회원가입"}),s.jsx("p",{className:e.subtitle,children:"아이디와 이메일로 간편하게 티빙을 시작하세요!"}),s.jsxs("form",{onSubmit:z,children:[s.jsxs("span",{className:"relative",children:[s.jsx(u,{label:"아이디",name:"username",defaultValue:t.username,onChange:N,placeholder:"아이디"}),s.jsx("img",{src:_,alt:"아이디 입력 초기화",className:"hidden absolute top-[5%] right-5 cursor-pointer"})]}),r.username?s.jsx("p",{className:`text-red-500 ${r.username?"border-red-600":""}`,children:"영문 소문자 또는 영문 소문자, 숫자 조합 6~12자리로 입력해주세요"}):s.jsx("p",{className:e.idValidation,children:"영문 소문자 또는 영문 소문자, 숫자 조합 6~12자리"}),s.jsxs("div",{className:"relative",children:[s.jsx(u,{type:g?"password":"text",label:"비밀번호",name:"password",defaultValue:t.password,onChange:N,className:` ${r.password?"border-red-500":(!r.password&&t.password!=="","border-slate-300")} text-white h-16 mt-3 bg-gray800 placeholder-slate-600 px-4 w-full rounded-sm`,placeholder:"비밀번호"}),s.jsx("img",{src:g?R:V,alt:"비밀번호 숨김/표시 아이콘",onClick:Y,className:e.hidePasswordButton})]}),r.password&&s.jsx("span",{className:"text-red-500 text-base",children:"비밀번호는 영문, 숫자를 포함하여 8~16자로 입력해주세요."}),s.jsxs("div",{className:"relative",children:[s.jsx(u,{type:g?"password":"text",label:"비밀번호 확인",name:"passwordConfirm",defaultValue:t.passwordConfirm,placeholder:"비밀번호 확인",className:` ${r.passwordConfirm?"border-red-500":!r.passwordConfirm&&t.passwordConfirm!==""?"border-green-600":"border-slate-400"} ${e.basicForm}`}),s.jsx("img",{src:P?R:V,alt:"비밀번호 숨김/표시 아이콘",onClick:Z,className:e.hidePasswordButton})]}),r.passwordConfirm?s.jsx("span",{className:"text-red-500 text-base",children:"비밀번호가 일치하지 않습니다. 다시 확인해주세요."}):s.jsxs("span",{className:"text-gray500 text-base",children:["영문, 숫자, 특수문자(~!@#$%^&*) 조합 8~15 자리"," "]}),s.jsx(u,{type:"email",label:"이메일",name:"email",defaultValue:t.email,placeholder:"이메일",onChange:N}),r.email&&s.jsx("span",{className:"text-red-500 text-base",children:"올바른 이메일 형식으로 입력해주세요."}),s.jsxs("div",{className:"pt-6 text-gray400",children:[s.jsxs("span",{className:"flex pb-2",children:[s.jsx("img",{src:v?$:W,alt:"자동 로그인",onClick:F,className:"pr-3 cursor-pointer"}),s.jsx("p",{className:"font-bold text-lg",children:"필수 및 선택 항목을 모두 포함하여 동의합니다."})]}),s.jsxs("span",{className:"flex",children:[s.jsx("img",{src:a?o:i,alt:"약관동의 체크",onClick:d,className:"right-1/5 pr-3 cursor-pointer"}),s.jsx("p",{children:"만 14세 이상입니다."})]}),s.jsxs("span",{className:"flex",children:[s.jsx("img",{src:a?o:i,alt:"약관동의 체크",onClick:d,className:e.checkAgree}),s.jsx("p",{children:"[필수] 서비스 이용약관 동의"})]}),s.jsxs("span",{className:"flex",children:[s.jsx("img",{src:a?o:i,alt:"약관동의 체크",onClick:d,className:e.checkAgree}),s.jsx("p",{children:"[필수] 개인정보 수집 및 이용 동의"})]}),s.jsxs("p",{className:"flex",children:[s.jsx("img",{src:a?o:i,alt:"약관동의 체크",onClick:d,className:e.checkAgree}),"[선택] 개인정보 수집 및 이용 동의"]}),s.jsxs("p",{className:"flex",children:[s.jsx("img",{src:a?o:i,alt:"마케팅 정보 수신 동의",onClick:d,className:e.checkAgree}),"[선택] 마케팅 정보 수신 동의"]}),s.jsxs("span",{className:"flex pl-8 pr-3 pb-3",children:[s.jsxs("span",{className:"flex pr-5",children:[s.jsx("img",{src:a?o:i,alt:"푸시알림 수신 동의",onClick:d,className:"right-1/5 pr-[7px] cursor-pointer"}),"푸시 알림"]})," ",s.jsxs("span",{className:"flex pr-5",children:[s.jsx("img",{src:a?o:i,alt:"이메일 수신 동의",onClick:d,className:"right-1/5 pr-[7px] cursor-pointer"}),"이메일"]})," ",s.jsxs("span",{className:"flex",children:[s.jsx("img",{src:a?o:i,alt:"SMS 수신 동의",onClick:d,className:"right-1/5 pr-[7px] cursor-pointer"}),"SMS"]})]})]}),s.jsx("button",{type:"submit",disabled:!I(),className:`h-16 bg-gray700 font-bold text-white login-button w-full rounded-sm"
						${I()?"bg-gray700 dark:hover:bg-[#cc1030] cursor-pointer":"bg-gray700 cursor-not-allowd"}`,children:"가입하기"})]})]})})]})}export{ps as default};
