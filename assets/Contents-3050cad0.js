import{j as e,S as k,N as B,a as E,P as G}from"./index-8ab648b1.js";import{r as l}from"./react-7b82c02c.js";import{e as V}from"./reactRouter-7cbd2f1e.js";import"./extra-3c07f53d.js";const z="ZDGF",P="troo",Q="_49Ib",J="NB2E",Y="qLSi",q="d2yi",W="e6KV",A="TFlf",X="p-Ec",ee="EyIw",te="c-Jr",se="ZSac",ne="krXZ",re="ZQh-",ae="EMTZ",le="yM3w",ie="rJSt",ce="qZlA",oe="FNwG",me="UzB7",de="_7Cwg",pe="xGHa",xe="b6zh",ge="wdrU",he="-FFx",ue="KtvR",fe="JYgd",be="KH3-",we="_1aXE",je="_7R-L",ve="UEuF",ye="pX0J",Ne="YZmE",Se="iROt",ke="Bhtg",Be="-CXQ",Ee="-Q4W",Ie="Sp23",_e="vG7a",Te="r4Q-",s={container:z,"sr-only":"FhK1",absolute:P,relative:Q,"left-1/2":"_2VBr","left-[7%]":"G33b","right-5":"_3hG1","right-6":"SXEO","right-[24px]":"bn1j","right-[7%]":"jL5U","top-1/2":"WIba","top-3":"sBbY","top-[5%]":"Ym89","z-10":"arns","z-50":"_0LXV","m-2":"kO0S","m-auto":"_9pSe","mx-0":"ltGt","mx-auto":"UltK","my-1":"MVS5","my-1.5":"Hwh0","my-3":"_1vn9","my-5":"iLUZ","my-[1%]":"R9dh","mb-10":"_0C-E","mb-2":"sJXR","mb-3":"MDCD","mb-4":"jq04","mb-[0.3125rem]":"dsHQ","mb-[0.9375rem]":"FGov","mb-[1.125rem]":"E96o","mb-[1.25rem]":"fUx0","ml-2":"UC9g","ml-4":"yQHH","ml-5":"krcc","ml-[0.5rem]":"Up0Q","ml-[1.174rem]":"eHw9","mr-[0.9375rem]":"hJwA","mr-[2.375rem]":"euW9","mt-1":"PMr7","mt-10":"_6Iud","mt-2":"krkH","mt-3":"PDaj","mt-4":"Ac6e","mt-8":"u9tG","mt-[0.5625rem]":"CagL","mt-[0.625rem]":"_6rUL","mt-[1.5625rem]":"-oUV","mt-[1.9375rem]":"geTA","mt-[60px]":"g4Ph",block:J,"inline-block":"ngIH",flex:Y,"inline-flex":"pP6E",contents:q,hidden:W,"h-1/4":"M23V","h-14":"B3yC","h-16":"ZO3O","h-8":"_2qa-","h-[1.175rem]":"g-oo","h-[1px]":"RCh8","h-[2.375rem]":"LXkl","h-[2rem]":"yy56","h-auto":"rYy6","h-full":"Ld15","h-screen":"RVUd","min-h-[1rem]":"_9gTu","min-h-screen":"o5NI","w-1/2":"UJZS","w-1/3":"QEzf","w-1/5":"osMY","w-2/5":"_8vKL","w-3/5":"_6-a7","w-36":"YK6L","w-6/12":"-KMQ","w-[1.175rem]":"ccnE","w-[110px]":"AxEa","w-[2.375rem]":"Tmlj","w-[25%]":"_0TdT","w-[2rem]":"gYf4","w-[30%]":"DBQ1","w-[50%]":"Y6kF","w-[6.5%]":"ipR0","w-[60%]":"_66dC","w-[92%]":"q3aP","w-full":"jb5z","w-screen":"mJlk","min-w-[1rem]":"ZD4q","flex-grow":"dTLS","-translate-x-1/2":"_2dcx","-translate-y-1/2":"AdTF","cursor-pointer":"_8kK9","list-none":"fI43","flex-row":"L8IH","flex-col":"_4UOA","items-center":"VIJA","justify-end":"uVSR","justify-center":"DFji","justify-between":"teN7","gap-2":"Ew3L","self-center":"_38vs","overflow-hidden":"jNZ6","overflow-y-visible":"ivFL",truncate:A,"text-ellipsis":"PrW-","whitespace-nowrap":"KLSv","break-words":"Qb53",rounded:X,"rounded-sm":"QqNe","border-t-[0.5px]":"cZsW","border-gray300":"BvZM","border-gray400":"SU6c","border-green-600":"mHWB","border-red-500":"_0QvC","border-red-600":"OB1n","border-slate-300":"z-ka","border-slate-400":"da4G","border-slate-600":"pmQX","border-slate-800":"Syo9","bg-[#212121]":"QRF5","bg-[#FF153C]":"Y0EG","bg-black":"q3f-","bg-black/[80%]":"aNrO","bg-gray100":"x-Lv","bg-gray300":"eBJS","bg-gray700":"mmiR","bg-gray800":"Idnj","bg-transparent":"LhBB","to-transparent":"soR8","bg-contain":"swgL","bg-cover":"_35yD","bg-[50%_50%]":"ycDc","bg-no-repeat":"R-mg","p-0":"ycWI","px-10":"OM7a","px-20":"S0v0","px-4":"_9Wlq","px-[3rem]":"YD0v","py-2":"ZuKq","pb-10":"hh2i","pb-16":"_0S7k","pb-2":"G3SZ","pb-3":"ZCrP","pb-5":"fzdU","pb-[100px]":"bskF","pb-[10px]":"TWXr","pb-[30px]":"MPeo","pb-[60px]":"ld7-","pl-0":"TV0r","pl-8":"oE-8","pl-[1.375rem]":"Q1de","pl-[10px]":"JcRG","pl-[3rem]":"DGKu","pl-[60px]":"_7-bf","pr-3":"B57-","pr-5":"E6o1","pr-7":"HBZF","pr-[0.5rem]":"OleB","pr-[13px]":"XfSM","pr-[1rem]":"WfTa","pr-[7px]":"b2NN","pt-1":"J5mT","pt-10":"Iwpc","pt-6":"rK3j","pt-[0.5625rem]":"szRS","pt-[0.5rem]":"Z54i","pt-[1rem]":"EABz","pt-[20px]":"vOkk","pt-[30px]":"e435","pt-[70px]":"_8HnC","pt-[7px]":"CydK","text-left":"BZ9V","text-center":"G1NL","align-middle":"l1p0","text-3xl":"P--c","text-4xl":"pqQj","text-5xl":"_7Yu0","text-[1.175rem]":"_9vpk","text-[1.25rem]":"-Msz","text-[35px]":"u7M7","text-base":"OR3C","text-lg":"h2J3","text-sm":"rgDN","text-xl":"-l-E","font-[0.75rem]":"DX1v","font-bold":"wNOa","font-extrabold":"_5JZg","font-light":"cGWt","font-medium":"RcOn","font-normal":"gT9x","font-semibold":"hIk3","leading-10":"H7UK","leading-[normal]":"yhU2","leading-normal":"vGcZ","leading-relaxed":"_8ndE","text-[#646464]":"sz8S","text-[#a6a6a6]":"fc4i","text-[#dedede]":"rwtR","text-[gray]":"fef-","text-black":"Mt61","text-gray-300":"p8dX","text-gray-400":"dEux","text-gray100":"OEfe","text-gray200":"J350","text-gray300":"fdII","text-gray400":"plx2","text-gray500":"dyTW","text-gray600":"_7cYo","text-red-400":"-Yam","text-red-500":"HCvH","text-slate-300":"hhFo","text-white":"_-5pR",underline:ee,"placeholder-slate-600":"CfJR","opacity-50":"_7Yd-","opacity-70":"zymE","saturate-100":"WnI4",filter:te,"backdrop-blur-lg":"Te1C","transition-[color]":"WEn7","transition-colors":"Tk5M","transition-opacity":"JkST","duration-100":"VgiP","duration-[0.1s]":"qdqQ","ease-in-out":"_608q","ease-linear":"UZLE",main:se,article:ne,gradation:re,tag:ae,poster:le,moreInfo:ie,playBtn:ce,likeBtn:oe,heartBtn:me,fullHeartBtn:de,shareBtn:pe,section:xe,sectionTitle:ge,toggleBtn:he,circle:ue,off:fe,on:be,playOn:we,playOff:je,asc:ve,desc:ye,reviewSection:Ne,starIcon:Se,active:ke,star:Be,figureHoverEffect:Ee,reviewInput:Ie,reviewButton:_e,reviewBox:Te,"first-line:transform":"_4lrO","dark:border-slate-200/30":"_2EO1","dark:text-zinc-500":"_9mH3","dark:hover:bg-[#cc1030]":"QB2c","dark:hover:bg-gray100":"HhDB","dark:hover:bg-zinc-100":"EnSc","dark:hover:text-black":"BFDS","dark:hover:text-zinc-300":"Y7yu","sm:text-xs":"yFTo","md:text-2xl":"Vamj","md:text-base":"_93s-","md:text-xs":"sUFl","lg:text-3xl":"GV6G","lg:text-base":"LuZz","xl:text-4xl":"vSd-","2xl:text-5xl":"wsHg","2xl:text-lg":"HPpw"};function He(){const[r,o]=l.useState({showFullDescription:!1,title:"",producer:!1,poster:"",actor:"",creator:"",description:"",release:"",rating:"",season:!1,subtitle:!1,isDRM:!1,runningTime:!1}),I=(t,n="photo")=>`https://final-taing.pockethost.io//api/files/${t.collectionId}/${t.id}/${t[n]}`,{id:h}=V();l.useEffect(()=>{const t=async n=>{try{const a=await(await fetch(`https://final-taing.pockethost.io//api/collections/${n}/records/${h}`)).json();a.poster&&o(c=>({...c,poster:I(a,"poster")}));const d=["title","actor","creator","description","producer","release","season","subtitle","isDRM"];for(let c of d)a[c]&&o(U=>({...U,[c]:a[c]}));n==="movie"&&(a.rating&&o(c=>({...c,rating:a.rating})),a.runningTime&&o(c=>({...c,runningTime:a.runningTime})))}catch(i){console.error(`Failed to fetch ${n} data`,i)}};t("program"),t("movie")},[h]);const[m,_]=l.useState(0),[T,u]=l.useState(0),[p,f]=l.useState(""),[b,$]=l.useState([]),R=t=>{f(t.target.value)},C=t=>{t.preventDefault(),p!==""&&m!==null&&($([...b,{text:p,stars:m}]),f(""))},[w,D]=l.useState(!1),H=()=>{D(!w)},[x,F]=l.useState(!1),M=()=>{F(!x)},[j,v]=l.useState(0),[y,N]=l.useState(!0),L=()=>{const t=[...g].sort((n,i)=>{const a=parseInt(n.title.match(/^\d+/)),d=parseInt(i.title.match(/^\d+/));return a-d});S(t),N(!0),v(n=>n+1)},Z=()=>{const t=[...g].sort((n,i)=>{const a=parseInt(n.title.match(/^\d+/));return parseInt(i.title.match(/^\d+/))-a});S(t),N(!1),v(n=>n+1)},O=()=>{navigator.clipboard.writeText(window.location.href),alert("링크가 복사되었습니다!")},[g,S]=l.useState([{title:"1. 알쓸별잡 1화",detail:"상세 정보",date:"2023.08.03",duration:"98분",imgSrc:"/contents/ep1.png"},{title:"2. 알쓸별잡 2화",detail:"상세 정보",date:"2023.08.10",duration:"92분",imgSrc:"/contents/ep2.png"},{title:"3. 알쓸별잡 3화",detail:"상세 정보",date:"2023.08.17",duration:"101분",imgSrc:"/contents/ep3.png"},{title:"4. 알쓸별잡 4화",detail:"상세 정보",date:"2023.08.24",duration:"95분",imgSrc:"/contents/ep4.png"},{title:"5. 알쓸별잡 5화",detail:"상세 정보",date:"2023.08.31",duration:"96분",imgSrc:"/contents/ep2.png"}]),K=[{title:"알쓸신잡",imgSrc:"/contents/relate1.png"},{title:"동네의 사생활",imgSrc:"/contents/relate2.png"},{title:"차이나피디아",imgSrc:"/contents/relate3.png"},{title:"잡학다식한 남자들의 히든카드 M16",imgSrc:"/contents/relate4.png"},{title:"만국견문록",imgSrc:"/contents/relate5.png"},{title:"렛츠고",imgSrc:"/contents/relate6.png"},{title:"동네의 사생활",imgSrc:"/contents/relate2.png"},{title:"알쓸신잡",imgSrc:"/contents/relate1.png"},{title:"동네의 사생활",imgSrc:"/contents/relate2.png"},{title:"차이나피디아",imgSrc:"/contents/relate3.png"},{title:"잡학다식한 남자들의 히든카드 M16",imgSrc:"/contents/relate4.png"},{title:"만국견문록",imgSrc:"/contents/relate5.png"},{title:"렛츠고",imgSrc:"/contents/relate6.png"},{title:"동네의 사생활",imgSrc:"/contents/relate2.png"},{title:"만국견문록",imgSrc:"/contents/relate5.png"},{title:"렛츠고",imgSrc:"/contents/relate6.png"},{title:"동네의 사생활",imgSrc:"/contents/relate2.png"},{title:"만국견문록",imgSrc:"/contents/relate5.png"},{title:"렛츠고",imgSrc:"/contents/relate6.png"},{title:"동네의 사생활",imgSrc:"/contents/relate2.png"},{title:"만국견문록",imgSrc:"/contents/relate5.png"},{title:"렛츠고",imgSrc:"/contents/relate6.png"},{title:"동네의 사생활",imgSrc:"/contents/relate2.png"}];return e.jsxs("main",{className:`text-gray300 ${s.main} w-screen overflow-hidden`,children:[e.jsxs("article",{className:s.article,children:[e.jsx("div",{className:`${s.gradation} -translate-x-1/2 -translate-y-1/2`,children:e.jsx("div",{className:s.poster,style:{backgroundImage:`url(${r.poster})`}})}),e.jsxs("div",{className:"relative z-10 flex flex-row justify-between h-full",children:[e.jsxs("div",{className:"w-3/5",children:[e.jsx("h2",{className:"mb-[1.25rem] text-5xl font-bold text-white",children:r.title}),e.jsxs("div",{className:"border-gray300 ",children:[e.jsx("span",{className:s.tag,children:r.release}),r.runningTime&&e.jsxs("span",{className:s.tag,children:[r.runningTime,"분"]}),r.producer&&e.jsx("span",{className:s.tag,children:r.producer}),r.season&&e.jsxs("span",{className:s.tag,children:["시즌",r.season]}),r.subtitle&&e.jsx("span",{className:s.tag,children:"자막"}),r.isDRM&&e.jsx("span",{className:s.tag,children:"DRM"})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("button",{className:s.playBtn,type:"submit",children:[e.jsx("span",{className:"text-center",children:"▶"})," 시청하기"]}),e.jsxs("button",{className:s.likeBtn,type:"submit",onClick:H,children:[e.jsx("img",{className:"m-auto w-[2rem] h-[2rem] mt-[0.5625rem] mb-[0.3125rem] ",src:w?"/assets/full-heart.svg":"/assets/heart.svg",alt:"하트 버튼"}),e.jsx("span",{className:"text-white",children:"찜"})]}),e.jsxs("button",{className:s.likeBtn,type:"submit",onClick:O,children:[e.jsx("img",{className:s.shareBtn,alt:"공유 버튼"}),e.jsx("span",{className:"text-white",children:"공유"})]})]}),e.jsxs("dl",{className:"flex mt-[1.5625rem] font-semibold",children:[e.jsx("dt",{className:"mr-[0.9375rem] font-semibold",children:"크리에이터"}),e.jsx("dd",{children:r.creator})]}),e.jsxs("dl",{className:"flex font-semibold",children:[e.jsx("dt",{className:"whitespace-nowrap mr-[0.9375rem]",children:"출연"}),e.jsx("p",{className:`${s.actor} ${s.truncate}`,children:r.actor})]}),e.jsx("p",{className:`${s.moreInfo} ${r.showFullDescription?"":s.truncate}`,children:r.description}),e.jsx("button",{onClick:()=>o(t=>({...t,showFullDescription:!t.showFullDescription})),type:"button",children:r.showFullDescription?"접기":"더보기"})]}),e.jsx("div",{className:"w-[25%]",children:e.jsx("img",{className:"",src:r.poster})})]})]}),e.jsxs("div",{children:[e.jsxs("section",{className:s.section,children:[e.jsx("hr",{className:"border-gray400"}),e.jsxs("div",{className:"flex justify-between mt-[1.9375rem] mb-[1.125rem]",children:[e.jsxs("button",{className:s.sectionTitle,type:"submit",children:["알쓸별잡"," ",e.jsxs("span",{className:"text-base font-semibold text-gray500",children:[" ","(총 5화)"," "]})," "]}),e.jsxs("div",{className:"pr-[1rem] flex justify-end font-semibold",children:[e.jsx("button",{className:`${y?`${s.asc}`:`${s.desc}`}`,type:"submit",onClick:L,children:"첫화부터"}),e.jsx("button",{className:`pl-[1.375rem] mr-[2.375rem] ${y?`${s.desc}`:`${s.asc}`}`,type:"submit",onClick:Z,children:"최신화부터"}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:` pr-[0.5rem] ${x?`${s.playOn}`:`${s.playOff}`}`,children:"연속재생"}),e.jsxs("button",{className:` text-white ${s.toggleBtn} ${x?`${s.on}`:`${s.off}`}`,type:"submit",onClick:M,children:[" ",e.jsx("div",{className:s.circle})]})]})]})]}),e.jsx("div",{className:" w-full font-semibold",children:e.jsxs(k,{className:"px-[3rem] detailSwiper",spaceBetween:10,modules:[B],slidesPerView:4,tabIndex:0,navigation:{nextEl:"#nextButton",prevEl:"#prevButton",keyboard:{enabled:!0,onlyInViewport:!1}},children:[g.map((t,n)=>e.jsx(E,{children:e.jsxs("figure",{className:`pt-[0.5625rem]  ${s.figureHoverEffect}`,children:[e.jsx("img",{className:" ",src:t.imgSrc}),e.jsxs("figcaption",{className:" pt-[0.5625rem]",children:[e.jsx("h4",{className:"text-white text-lg",children:t.title}),e.jsx("p",{children:t.detail}),e.jsxs("span",{className:"text-gray500",children:[t.date," | ",t.duration]})]})]})},n)),e.jsx("div",{className:"swiper-button-prev",id:"prevButton",role:"button",tabIndex:0,onKeyDown:t=>{t.key==="Enter"&&t.currentTarget.click()}}),e.jsx("div",{className:"swiper-button-next",id:"nextButton",role:"button",tabIndex:0,onKeyDown:t=>{t.key==="Enter"&&t.currentTarget.click()}})]},j)})]}),e.jsxs("section",{className:s.section,children:[e.jsx("span",{className:s.sectionTitle,children:"비슷한 TV 프로그램"}),e.jsx("div",{className:"flex justify-between w-full font-semibold ",children:e.jsxs(k,{className:"detailSwiper detailPagenation px-[3rem]  overflow-y-visible   ",modules:[B,G],slidesPerView:7,spaceBetween:10,slidesPerGroup:7,tabIndex:0,freeMode:!0,navigation:{nextEl:"#nextButton",prevEl:"#prevButton",keyboard:{enabled:!0,onlyInViewport:!1}},pagination:{clickable:!0},children:[K.map((t,n)=>e.jsx(E,{children:e.jsxs("figure",{className:`pt-[0.5625rem] ${s.figureHoverEffect}`,children:[e.jsx("img",{className:"",src:t.imgSrc}),e.jsx("figcaption",{className:" pt-[0.5625rem]",children:e.jsx("h4",{className:"text-lg break-words",children:t.title})})]})},n)),e.jsx("div",{className:"swiper-button-prev",id:"prevButton",role:"button",tabIndex:0,onKeyDown:t=>{t.key==="Enter"&&t.currentTarget.click()}}),e.jsx("div",{className:"swiper-button-next",id:"nextButton",role:"button",tabIndex:0,onKeyDown:t=>{t.key==="Enter"&&t.currentTarget.click()}})]},j)})]}),e.jsxs("section",{className:s.reviewSection,children:[e.jsx("span",{className:`mb-[0.9375rem]  ${s.sectionTitle}`,children:"Review"}),e.jsxs("span",{className:"text-5xl pl-[3rem] ",children:["4.7",e.jsx("span",{className:"text-base ",children:"평균 평점 (51234개 )"})]}),e.jsx("div",{className:"flex flex-row pl-[3rem] justify-between",children:e.jsxs("form",{onSubmit:C,className:" flex justify-between mt-[0.625rem] w-[92%]",children:[[...Array(5)].map((t,n)=>{const i=n+1;return e.jsx("span",{className:`${s.starIcon} ${i<=(T||m)?s.active:""}`,onMouseEnter:()=>u(i),onMouseLeave:()=>u(m),onClick:()=>_(i),children:"★"},n)}),e.jsx("input",{className:s.reviewInput,value:p,onChange:R}),e.jsx("button",{className:s.reviewButton,type:"submit",children:"리뷰 제출"})]})}),e.jsx("div",{children:e.jsx("ul",{className:"w-[50%]",children:b.map((t,n)=>e.jsxs("li",{className:s.reviewBox,children:[e.jsx("span",{style:{fontSize:"0.8rem"},children:`${"⭐".repeat(t.stars)}`}),e.jsx("br",{}),t.text]},n))})})]})]})]})}export{He as default};
