import{p as v,j as e,c as w,N,f as S,h as x,S as y,g as u,W as b}from"./index-216c0cc6.js";import{r}from"./react-7b82c02c.js";import{N as B,u as m,S as j}from"./NavButton-58ddb5b2.js";import{L as g}from"./reactRouter-08e27dd4.js";import"./extra-3c07f53d.js";function P(){const[c,p]=r.useState(null),[o,i]=r.useState([]),[s,a]=r.useState("pending"),[n,d]=r.useState(null);return r.useEffect(()=>{a("loading"),Promise.all([v.collection("genre").getFullList()]).then(([t])=>{i([{title:"영화 장르명",data:t}]),a("success")}).catch(t=>{d(t),a("error")})},[]),e.jsx("nav",{children:e.jsxs(w,{className:"categoryNav px-[3.5%]",slidesPerView:7,breakpoints:{480:{slidesPerView:4},768:{slidesPerView:5},1024:{slidesPerView:6}},slidesPerGroup:4,navigation:{nextEl:"#categoryNextButton",prevEl:"#categoryPrevButton",keyboard:!0,onlyInViewport:!1},modules:[N],children:[o==null?void 0:o.map(t=>t.data.filter(l=>l.movieCode&&l.movieCode.trim()!=="").map((l,f)=>e.jsx(e.Fragment,{children:e.jsx(S,{children:e.jsx("div",{children:e.jsx(B,{content:l.genreKR,index:f,id:l.id,activeIndex:c,setActiveIndex:p})})},l.id)}))),e.jsx(x,{className:"swiper-button-prev",id:"categoryPrevButton"}),e.jsx(x,{className:"swiper-button-next",id:"categoryNextButton"})]})})}const h=()=>{const[c,p]=r.useState([]),[o,i]=r.useState("pending"),[s,a]=r.useState(null);return r.useEffect(()=>{i("loading"),Promise.all([v.collection("movie").getFullList()]).then(n=>{p([{title:"영화",data:n}]),i("success")}).catch(n=>{a(n),i("error")})},[]),{contents:c,status:o,error:s}};function C(){const{buttonId:c,setButtonId:p}=m(),{isButtonClicked:o,setIsButtonClicked:i}=m(),{contents:s,status:a}=h();return h(),a==="loading"?e.jsx(y,{}):o===!0?e.jsx(e.Fragment,{children:s==null?void 0:s.map(n=>n.data.map(d=>d.filter(t=>t.genre===c).map(t=>e.jsx("div",{className:j.listContent,children:e.jsxs(g,{to:`/contents/${t.id}`,children:[e.jsx("img",{src:u(t,"poster"),alt:t.title}),e.jsx("p",{className:"text-xl mt-2  whitespace-nowrap overflow-hidden text-ellipsis",children:t.title})]})},t.id))))}):e.jsx(e.Fragment,{children:s==null?void 0:s.map(n=>n.data.map(d=>d.map(t=>e.jsx("div",{className:j.listContent,children:e.jsxs(g,{to:`/contents/${t.id}`,children:[e.jsx("img",{src:u(t,"poster"),alt:t.title}),e.jsx("p",{className:"text-xl mt-2  whitespace-nowrap overflow-hidden text-ellipsis",children:t.title})]})},t.id))))})}function L(){return e.jsxs(e.Fragment,{children:[e.jsxs(b,{children:[e.jsx("title",{children:"Movies - TAING"}),e.jsx("meta",{name:"description",content:"멋쟁이 사자처럼 6기 7조의 파이널 프로젝트 - 티빙 클론코딩 타잉 영화"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:title",content:"타잉 카테고리별 영화"}),e.jsx("meta",{property:"og:description",content:"프로젝트 타잉 영화 페이지"}),e.jsx("meta",{property:"og:image",content:"@/assets/metaImgMovie.png"}),e.jsx("meta",{property:"og:url",content:"http://localhost:5173/react-project-7/#/movie"})]}),e.jsxs("div",{className:"bg-black pt-32 px-[5%]",children:[e.jsx("h3",{className:"text-white text-4xl font-semibold mb-[2%] ml-[3%]",children:"영화"}),e.jsx(P,{}),e.jsx("div",{className:"contentWrapper w-full pt-[7%] flex flex-row gap-5 flex-wrap justify-between",children:e.jsx(C,{})})]})]})}export{L as default};
