import{c as v,j as e,d as P,N as E,f as V,h as f,S as I,g as h,W as y}from"./index-b4f137eb.js";import{r as s}from"./react-7b82c02c.js";import{N as B,u as j,S as g}from"./NavButton-a4153975.js";import{L as S}from"./reactRouter-08e27dd4.js";import"./extra-3c07f53d.js";function R(){const[c,p]=s.useState(""),[u,i]=s.useState(!0),[o,d]=s.useState(!1),r=s.useRef(null),l=s.useRef(null),t=n=>{i(n.isBeginning),d(n.isEnd)},[x,b]=s.useState([]),[k,m]=s.useState("pending"),[F,N]=s.useState(null);return s.useEffect(()=>{let n=!0;return m("loading"),Promise.all([v.collection("genre").getFullList()]).then(([a])=>{n&&(b([{title:"프로그램 장르명",data:a}]),m("success"))}).catch(a=>{n&&(N(a),m("error"))}),()=>{n=!1}},[]),e.jsx("nav",{children:e.jsxs(P,{className:"programNav px-[3.5%]",slidesPerView:7,breakpoints:{480:{slidesPerView:4},768:{slidesPerView:5},1024:{slidesPerView:6}},slidesPerGroup:4,navigation:{prevEl:r.current,nextEl:l.current,keyboard:!0,onlyInViewport:!1},modules:[E],onSlideChange:n=>{t(n)},children:[x==null?void 0:x.map(n=>n.data.filter(a=>a.programCode&&a.programCode.trim()!=="").map((a,C)=>e.jsx(V,{children:e.jsx("div",{children:e.jsx(B,{content:a.genreKR,index:C,id:a.id,activeIndex:c,setActiveIndex:p})})},a.id))),e.jsx(f,{className:"swiper-button-prev",ref:r}),e.jsx(f,{className:"swiper-button-next",ref:l})]})})}const w=()=>{const[c,p]=s.useState([]),[u,i]=s.useState("pending"),[o,d]=s.useState(null);return s.useEffect(()=>{i("loading"),Promise.all([v.collection("program").getFullList()]).then(r=>{p([{title:"TV 프로그램",data:r}]),i("success")}).catch(r=>{d(r),i("error")})},[]),{contents:c,status:u,error:o}};function T(){const{buttonId:c,setButtonId:p}=j(),{isButtonClicked:u,setIsButtonClicked:i}=j(),{contents:o,status:d}=w();return w(),d==="loading"?e.jsx(I,{}):u===!0?e.jsx(e.Fragment,{children:o==null?void 0:o.map(r=>r.data.map(l=>l.filter(t=>t.genre===c).map(t=>e.jsx("div",{className:g.listContent,children:e.jsxs(S,{to:`/contents/${t.id}`,className:g.listContent,children:[e.jsx("img",{src:h(t,"poster"),alt:t.title}),e.jsx("p",{className:"text-xl mt-2  whitespace-nowrap overflow-hidden text-ellipsis",children:t.title})]})},t.id))))}):e.jsx(e.Fragment,{children:o==null?void 0:o.map(r=>r.data.map(l=>l.map(t=>e.jsx("div",{className:g.listContent,children:e.jsxs(S,{to:`/contents/${t.id}`,children:[e.jsx("img",{src:h(t,"poster"),alt:t.title}),e.jsx("p",{className:"text-xl mt-2  whitespace-nowrap overflow-hidden text-ellipsis",children:t.title})]})},t.id))))})}function $(){return e.jsxs(e.Fragment,{children:[e.jsxs(y,{children:[e.jsx("title",{children:"TV Programs - TAING"}),e.jsx("meta",{name:"description",content:"멋쟁이 사자처럼 6기 7조의 파이널 프로젝트 - 티빙 클론코딩 타잉 TV 프로그램"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:title",content:"타잉 카테고리별 TV 프로그램"}),e.jsx("meta",{property:"og:description",content:"프로젝트 타잉 TV 프로그램 페이지"}),e.jsx("meta",{property:"og:image",content:"https://user-images.githubusercontent.com/116864776/270171800-c41e18b6-a042-4d4e-b21a-d6661cf4eb0c.png"}),e.jsx("meta",{property:"og:url",content:"https://frontendschool6.github.io/react-project-7/#/program"})]}),e.jsxs("div",{className:"bg-black pt-32 px-[5%]",children:[e.jsx("h3",{className:"text-white text-4xl font-semibold mb-[2%] ml-[3%]",children:"TV 프로그램"}),e.jsx(R,{}),e.jsx("div",{className:"contentWrapper w-full pt-10 flex flex-row gap-5 flex-wrap justify-between",children:e.jsx(T,{})})]})]})}export{$ as default};
