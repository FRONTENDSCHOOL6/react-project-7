import{j as e,W as b,p as j}from"./index-98e0b301.js";import{r as s}from"./react-7b82c02c.js";import{d as N}from"./reactRouter-7cbd2f1e.js";import"prop-types";import"./extra-3c07f53d.js";function F(){N();const[h,v]=s.useState(!0),c=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;s.useState(null),s.useState(!0);const[m,g]=s.useState(""),[d,p]=s.useState({email:!1}),[y,l]=s.useState({email:!1}),[w,r]=s.useState(null);s.useEffect(()=>{r(null)},[]);const u=a=>{const{name:t,value:i}=a.target;let n;if(t==="email")n=c.test(i),p(o=>({...o,email:!n})),g(i),n&&l(o=>({...o,email:!1}));else return m;console.log("input email=",i)},x=c.test(m),f=async a=>{if(a.preventDefault(),!x)l(t=>({...t,email:"이메일을 올바르게 입력해주세요."}));else{l(t=>({...t,email:""}));try{const t=await j.collection("users").getList(1,20,{filter:`(email~ "${a.target.value}")`});if(t.items.length>0)console.log("input email=",a.target.value,"username=",t.items.at(0).username),r(null);else throw r(null),new Error("No user found")}catch(t){console.error("Error: ",t)}}};return e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx("title",{children:"FindId - Taing"})}),e.jsx("div",{className:"bg-black h-screen z-50",children:e.jsxs("div",{className:"pt-[70px] text-white login-title leading-10 container w-1/3 mx-auto align-middle",children:[e.jsx("div",{className:"pb-[60px] font-semibold text-4xl flex justify-center",children:"아이디 찾기"}),e.jsxs("div",{className:"text-white",children:[e.jsx("div",{className:"font-semibold text-xl",children:"이메일로 찾기"}),e.jsx("div",{className:"text-gray400 font-medium",children:"가입 시 등록한 이메일을 입력해주세요"})]}),e.jsxs("form",{onSubmit:u,children:[e.jsx("input",{type:"email",label:"이메일",name:"email",className:`text-white h-16 bg-gray800 placeholder-slate-600 login-form px-4 w-full rounded-sm
									${d.email?"border-red-500":""}`,placeholder:"이메일",onChange:u}),d.email&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:"이메일을 올바르게 입력해주세요."}),e.jsx("div",{className:"h-8"}),e.jsx("button",{type:"submit",className:`h-16 bg-gray300 text-gray500 font-extrabold login-button w-full rounded-sm
						dark:hover:bg-gray100 dark:hover:text-black
						${!x||h?"":"opacity-50 cursor-pointer"}`,onClick:f,children:"확인"})]}),e.jsxs("div",{className:"flex flex-row items-center mt-10 justify-between",children:[e.jsx("span",{className:"w-2/5 h-[1px] bg-gray800"}),e.jsx("span",{className:"w-1/5 text-center ",children:"또는"}),e.jsx("span",{className:"w-2/5 h-[1px] bg-gray800"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"pt-10 pb-3 text-gray100 font-semibold text-xl",children:"본인인증으로 찾기"}),e.jsx("p",{className:"pb-5 text-gray400",children:"이미 본인인증이 완료된 계정에 한하여 아이디찾기가 가능합니다"}),e.jsx("button",{type:"submit",className:"h-16 bg-gray100 text-black font-extrabold login-button w-full rounded-sm dark:hover:bg-zinc-100",children:"본인인증하기"})]})]})})]})}export{F as default};
