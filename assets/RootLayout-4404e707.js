import{j as e,s as y,g as _,p as A}from"./index-e81f522c.js";import{L as t,u as J,d as V,O as M}from"./reactRouter-bd0fbe8a.js";import{r as c}from"./react-7b82c02c.js";import{u as L}from"./authStore-84235a31.js";import"./extra-3c07f53d.js";const H="qyk8",q="ehor",G="SA9B",R="S5--",F="GcAt",X="Fk-a",Y="kcbT",K="mpkO",Q="B-h3",U="zGln",W="WpEz",Z="_7CCB",ee="TKut",se="P8eJ",te="qbkh",ae="D6i1",ce="_3kwd",oe="PiX9",ne="A2-L",s={footer:H,notice:q,noticeContent:G,buttons:R,goToButton:F,noticeVerticalBar:X,horizontalBar:Y,service:K,serviceItem:Q,serviceItemBold:U,description:W,descriptionItem:Z,descriptionVerticalBar:ee,line:se,sns:te,snsItem:ae,snsImg:ce,facebookImg:oe,copyright:ne},le="/react-project-7/assets/youtube.png",re="/react-project-7/assets/instagram.png",ie="/react-project-7/assets/twitter.png",de="/react-project-7/assets/facebook.png";function me(){return e.jsxs("footer",{className:s.footer,children:[e.jsxs("div",{className:s.notice,children:[e.jsxs("p",{children:["공지사항",e.jsx(t,{to:"/",className:s.noticeContent,children:"[안내] 합병보고 주주총회에 갈음하는 공고"})]}),e.jsxs("div",{className:s.buttons,children:[e.jsx("p",{children:e.jsxs(t,{to:"/",className:s.goToButton,children:["브랜드 바로가기",e.jsx("span",{children:"+"})]})}),e.jsx("span",{className:s.noticeVerticalBar}),e.jsx("p",{children:e.jsxs(t,{to:"/",className:s.goToButton,children:["그룹 계열사 바로가기",e.jsx("span",{children:"+"})]})})]})]}),e.jsx("hr",{className:s.horizontalBar}),e.jsxs("ul",{className:s.service,children:[e.jsx("li",{className:s.serviceItem,children:e.jsx(t,{to:"/",children:"고객센터"})}),e.jsx("li",{className:s.serviceItem,children:e.jsx(t,{to:"/",children:"이용약관"})}),e.jsx("li",{className:s.serviceItemBold,children:e.jsx(t,{to:"/",children:"개인정보처리방침"})}),e.jsx("li",{className:s.serviceItem,children:e.jsx(t,{to:"/",children:"청소년 보호정책"})}),e.jsx("li",{className:s.serviceItem,children:e.jsx(t,{to:"/",children:"법적고지"})}),e.jsx("li",{className:s.serviceItem,children:e.jsx(t,{to:"/",children:"이벤트"})}),e.jsx("li",{className:s.serviceItem,children:e.jsx(t,{to:"/",children:"인재채용"})})]}),e.jsxs("div",{className:s.description,children:[e.jsxs("p",{className:s.descriptionItem,children:[e.jsx("span",{children:"대표이사 : 노치현"}),e.jsx("span",{className:s.descriptionVerticalBar}),e.jsx(t,{to:"/",className:s.underline,children:"사업자정보확인"}),e.jsx("span",{className:s.descriptionVerticalBar}),e.jsx("span",{children:"사업자등록번호 : 012-34-56789"}),e.jsx("span",{className:s.descriptionVerticalBar}),e.jsx("span",{children:"통신판매신고번호 : 2023-서울마포-1234호"})]}),e.jsxs("p",{className:s.descriptionItem,children:[e.jsx("span",{children:"사업장 : 서울 종로구 종로3길17, 광화문D타워 D1동 16층, 17층"}),e.jsx("span",{className:s.descriptionVerticalBar}),e.jsx("span",{children:"호스팅사업자 : 카카오(주)"})]}),e.jsxs("p",{className:s.descriptionItem,children:[e.jsx(t,{to:"/",className:s.line,children:"고객문의 바로가기"}),e.jsx("span",{className:s.descriptionVerticalBar}),e.jsx(t,{to:"mailto:abcdefg98765@example.com",className:s.line,children:"대표메일 : taing@example.com"}),e.jsx("span",{className:s.descriptionVerticalBar}),e.jsx(t,{to:"tel:+1234567890",target:"_blank",className:s.line,children:"고객센터 : 1234-5678 (평일/주말 09시~18시, 공휴일 휴무)"})]}),e.jsxs("p",{className:s.descriptionItem,children:[e.jsx("span",{children:"ENM 시청자 상담실 (편성 문의 및 시청자 의견) : 012-345-6789"}),e.jsx("span",{className:s.descriptionVerticalBar}),e.jsx("span",{children:"Mnet 고객센터(반송편성문의) : 1855-1631"})]})]}),e.jsxs("ul",{className:s.sns,children:[e.jsx("li",{children:e.jsx(t,{to:"https://www.youtube.com/c/TVING_official",className:s.snsItem,children:e.jsx("img",{src:le,alt:"유튜브",className:s.snsImg})})}),e.jsx("li",{children:e.jsx(t,{to:"https://www.instagram.com/tving.official",className:s.snsItem,children:e.jsx("img",{src:re,alt:"인스타그램",className:s.snsImg})})}),e.jsx("li",{children:e.jsx(t,{to:"https://twitter.com/tvingdotcom",className:s.snsItem,children:e.jsx("img",{src:ie,alt:"트위터",className:s.snsImg})})}),e.jsx("li",{children:e.jsx(t,{to:"https://www.facebook.com/CJTVING",className:s.snsItem,children:e.jsx("img",{src:de,alt:"페이스북",className:s.facebookImg})})})]}),e.jsx("small",{className:s.copyright,children:"Copyright © 주식회사 티빙 All right reserved."})]})}const xe="qk3J",he="ZQJa",pe="sNSx",je="LN33",ue="OPVx",ge="dBRq",fe="nrjN",r={header:xe,content:he,home:pe,profile:je,profileImg:ue,modal__background:ge,modal__box:fe},E="/react-project-7/assets/logo.svg",C="/react-project-7/assets/profile.png",Ne="/react-project-7/assets/headerX.svg";function be(a,o){const[n,p]=c.useState(()=>{try{return ke(a)}catch{return o}}),m=c.useCallback(j=>{we(a,j),p(j)},[a]),x=c.useCallback(()=>{Se(a),p()},[a]);return c.useMemo(()=>({storageData:n,update:m,remove:x}),[x,n,m])}const{localStorage:v,JSON:{stringify:ve,parse:Ie}}=globalThis,we=(a,o)=>{v.setItem(a,ve(o))},ke=a=>Ie(v.getItem(a)),Se=a=>{v.removeItem(a)};function Be(){const[a,o]=c.useState(!1),[n,p]=c.useState(!1),[m,x]=c.useState(!1),[j,D]=c.useState(null),[_e,I]=c.useState(!0),{authState:l,signOut:$}=L(),{storageData:u}=be("pocketbase_auth");console.log(u);const i=JSON.parse(localStorage.getItem("selectedProfile")),h=J(),[O,w]=c.useState(y),[P,k]=c.useState("검색"),N=V();c.useEffect(()=>{N.pathname==="/search"?(w(Ne),k("뒤로가기")):(w(y),k("검색"))},[N.pathname]);const T=()=>{N.pathname==="/search"&&h(-1)};console.log(l),c.useEffect(()=>{const d=()=>{window.scrollY>150?o(!0):o(!1)};return window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),c.useEffect(()=>{const d=localStorage.getItem("pocketbase_auth");if(d){const f=JSON.parse(d);L.setState({authState:f})}},[]),c.useEffect(()=>{var f;(async()=>{var B;try{I(!0);const b=await A.collection("users").getOne((B=l==null?void 0:l.user)==null?void 0:B.id,{expand:"profiles"});D(b)}catch(b){console.log(b)}finally{I(!1)}})((f=l==null?void 0:l.user)==null?void 0:f.id)},[l]);const g=()=>{p(!n)},z=()=>{S()},S=()=>{x(!m)};return console.log(i),e.jsxs("header",{className:`
      ${a?"bg-black/[80%]":"to-transparent"}
      ${a?"saturate-100 backdrop-blur-lg":""}
      ${r.header}`,children:[e.jsx("h1",{className:"w-[6.5%]",children:e.jsx(t,{to:"/",children:e.jsx("img",{src:E,alt:"타잉",className:"w-full"})})}),e.jsxs("ul",{className:r.content,children:[e.jsx("li",{children:e.jsx(t,{href:"/",className:r.home,children:"홈"})}),e.jsx("li",{children:e.jsx(t,{to:"program",children:"TV 프로그램"})}),e.jsx("li",{children:e.jsx(t,{to:"movie",children:"영화"})}),e.jsx("li",{children:e.jsx(t,{to:"live",children:"내가 찜한 콘텐츠"})})]}),e.jsxs("ul",{className:r.profile,children:[e.jsx("li",{onClick:T,children:e.jsx(t,{to:"search",children:e.jsx("img",{src:O,alt:P,className:r.profileImg})})}),e.jsx("li",{onMouseEnter:g,onMouseLeave:g,className:"w-10 h-10 object-cover ",children:e.jsx("img",{src:_(i,"poster")||C,alt:"프로필",className:r.profileImg,onClick:()=>h(`/profile/${u.user.id}`)})})]}),e.jsxs("div",{className:`leading-[1.15] text-base text-white fixed min-w-[15rem] box-border shadow-[0px_5px_10px_0_rgba(0,0,0,0.5)] bg-[#212121] translate-x-0 -translate-y-2.5 -mt-0.5 pt-6 pb-[1.167rem] px-0 rounded-sm border-solid border-[#4d4d4d] border right-[3.5rem] top-[5.833rem] transition-all z-50 
          ${n?"":"invisible opacity-0"}`,onMouseEnter:g,onMouseLeave:g,children:[e.jsx("div",{className:"flex flex-col px-5",children:e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("img",{src:_(i,"poster")||C,alt:"유저의 프로필 이미지",className:"w-12 h-12 object-cover"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-left",children:(i==null?void 0:i.username)||u.user.nickname}),e.jsx("button",{type:"button",className:"pt-1 text-sm text-left",onClick:()=>h(`/profile/${u.user.id}`),children:e.jsx("span",{className:"text-sm text-[#a3a3a3] hover:text-white",children:"프로필 전환 >"})})]})]})}),e.jsx("hr",{className:"border-[#2e2e2e] border-t h-[0.0625rem] bg-[#2e2e2e] my-4"}),e.jsxs("ul",{className:"py-2 flex flex-col justify-center gap-3",children:[e.jsx("li",{className:"inline-block w-full text-lg leading-normal text-neutral-400 transition-[color] duration-[0.1s] px-[1.667rem] py-2 hover:text-white hover:bg-[#2e2e2e]",onClick:()=>h("/membership"),children:"이용권"}),e.jsx("li",{className:"inline-block w-full text-lg leading-normal text-neutral-400 transition-[color] duration-[0.1s] px-[1.667rem] py-2 hover:text-white hover:bg-[#2e2e2e]",onClick:z,children:"로그아웃"})]})]}),m&&e.jsx("div",{className:"fixed inset-0 bg-black opacity-[95%]",children:e.jsxs("div",{className:"absolute top-[calc(50vh_-_100px)] left-[calc(50vw_-_200px)] bg-[#212121] flex justify-center items-center w-[25rem] h-[9.375rem] rounded flex-col",children:[e.jsx("h2",{className:"py-4 px-4 text-white text-xl inline-block",children:"로그아웃 하시겠습니까?"}),e.jsxs("div",{className:"flex justify-between items-center w-full mt-4",children:[e.jsx("button",{type:"button",className:"text-[#a3a3a3] flex-grow hover:text-white",onClick:async()=>{await $(),localStorage.removeItem("pocketbase_auth"),x(!1),h("/onboarding")},children:"확인"}),e.jsx("span",{className:"text-[#a3a3a3]",children:"|"}),e.jsxs("button",{type:"button",className:"text-[#a3a3a3] flex-grow hover:text-white",onClick:S,children:["취소"," "]})]})]})})]})}function ye(){const[a,o]=c.useState(!1);return c.useEffect(()=>{const n=()=>{window.scrollY>150?o(!0):o(!1)};return window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}},[]),e.jsx("header",{className:`
      ${a?"bg-black/[80%]":"to-transparent"}
      ${a?"saturate-100 backdrop-blur-lg":""}
      ${r.header}`,children:e.jsx("h1",{className:"w-[6.5%]",children:e.jsx(t,{to:"/",children:e.jsx("img",{src:E,alt:"타잉",className:"w-full"})})})})}function $e(){const a=V(),o=["/signin","/onboarding","/signup","/findid","/findpw","/editprofiles","/editprofile","/profile"];return e.jsxs(e.Fragment,{children:[o.includes(a.pathname)?e.jsx(ye,{}):e.jsx(Be,{}),e.jsx("main",{children:e.jsx(M,{})}),e.jsx(me,{})]})}export{$e as default};
