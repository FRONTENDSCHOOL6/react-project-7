import{u as m,j as e,p as n,g as y,a as N,W as L,c as S}from"./index-b4f137eb.js";import{u as x}from"./reactRouter-08e27dd4.js";import{r as a}from"./react-7b82c02c.js";import{D as k}from"./default-profile-3d4ff587.js";import"./extra-3c07f53d.js";function P(){const t=x(),{storageData:o}=m("pocketbase_auth");return e.jsxs("button",{type:"button",className:"block w-2/5 box-border border font-bold text-center mt-2 px-0 py-3 border-solid rounded bg-[#dedede] text-black border-[#dedede] hover:border-white hover:bg-white",onClick:()=>{var s;return t(`/profile/${(s=o==null?void 0:o.model)==null?void 0:s.id}`)},children:[" ","완료"]})}function v(){return e.jsx("div",{className:"flex flex-col gap-1",children:e.jsx("h2",{className:"text-4xl text-center font-bold",children:"프로필 편집"})})}const w="yEM-",C="_4u41",E="QHXz",l={profileListSection:w,profileListWrapper:C,editButton:E};function i({profile:t,onClick:o}){return e.jsxs("li",{className:"flex flex-col justify-center items-center w-full",children:[e.jsx("button",{type:"button",className:`${l.editButton}`,onClick:o,children:e.jsx("img",{src:t!=null&&t.poster?y(t,"poster"):k,alt:`유저 ${t==null?void 0:t.username}의 프로필 이미지`,className:"w-full h-full object-cover opacity-50"})}),e.jsx("p",{className:"text-lg text-neutral-400 my-2",children:t==null?void 0:t.username})]})}i.propTypes={profile:n.shape({username:n.string}),onClick:n.func};function p({profiles:t,onProfileClick:o}){return e.jsx("ul",{className:l.profileListWrapper,children:t!=null&&t.expand?t==null?void 0:t.expand.profiles.map(s=>e.jsx(i,{profile:s,onClick:()=>o(s)},s==null?void 0:s.username)):e.jsx(i,{profile:t,onClick:()=>o(t)},t==null?void 0:t.username)})}p.propTypes={profiles:n.arrayOf(n.shape({username:n.string})),onProfileClick:n.func};function h({isLoading:t,profileData:o,handleProfileClick:s}){return console.log(o),e.jsx("div",{className:l.profileListSection,children:e.jsx("ul",{className:"flex items-center justify-center gap-7 w-2/3",children:t?e.jsx("p",{children:"Loading..."}):e.jsx(p,{profiles:o,onProfileClick:s})})})}h.propTypes={isLoading:n.bool,profileData:n.shape({expand:n.shape({profiles:n.arrayOf(n.shape({username:n.string}))})}),handleProfileClick:n.func};function I(){const t=x(),{authState:o}=N();console.log(o);const{storageData:s}=m("pocketbase_auth"),[j,d]=a.useState(!0),[f,g]=a.useState(null),b=u=>{var c;t(`/editprofile/${(c=s==null?void 0:s.model)==null?void 0:c.id}/${u.id}`)};return a.useEffect(()=>{(async()=>{var c;try{d(!0);const r=await S.collection("users").getOne((c=s==null?void 0:s.model)==null?void 0:c.id,{expand:"profiles"});g(r)}catch(r){console.log(r)}finally{d(!1)}})(s.model.id)},[s.model.id]),e.jsxs(e.Fragment,{children:[e.jsxs(L,{children:[e.jsx("title",{children:"타잉 7조 - 프로필 편집 리스트 페이지"}),e.jsx("meta",{name:"description",content:"멋쟁이 사자처럼 6기 7조의 파이널 프로젝트 - 티빙 클론코딩 프로필 편집 리스트 페이지"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:title",content:"타잉 프로필 편집 리스트 페이지"}),e.jsx("meta",{property:"og:description",content:"프로젝트 타잉 프로필 편집 리스트 페이지"}),e.jsx("meta",{property:"og:image",content:"https://github.com/FRONTENDSCHOOL6/react-project-7/assets/101504272/39002df3-6994-4ec9-8e08-86e6fb1c679f"}),e.jsx("meta",{property:"og:url",content:"https://frontendschool6.github.io/react-project-7/#/editprofiles/:id"})]}),e.jsx("section",{className:"bg-black w-screen h-screen flex items-center justify-center text-white my-auto relative pt-[2rem] lg:pt-[1.5rem] md:pt-[1rem]",children:e.jsxs("div",{className:"flex flex-col justify-center items-center min-h-full gap-6",children:[e.jsx(v,{}),e.jsx(h,{handleProfileClick:b,isLoading:j,profileData:f}),e.jsx(P,{})]})})]})}export{I as default};
