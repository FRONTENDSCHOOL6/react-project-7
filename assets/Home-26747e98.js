import{g as y,e as k,p as b,j as s,S as h,N as v,P as g,a as j,b as P}from"./index-98e0b301.js";import{L as N}from"./reactRouter-7cbd2f1e.js";import{r as f}from"./react-7b82c02c.js";import w from"prop-types";import{A as S}from"./autoplay-b5c9a955.js";import"./extra-3c07f53d.js";function I(i){const{effect:e,swiper:r,on:d,setTranslate:x,setTransition:p,overwriteParams:a,perspective:t,recreateShadows:l,getEffectParams:c}=i;d("beforeInit",()=>{if(r.params.effect!==e)return;r.classNames.push(`${r.params.containerModifierClass}${e}`),t&&t()&&r.classNames.push(`${r.params.containerModifierClass}3d`);const o=a?a():{};Object.assign(r.params,o),Object.assign(r.originalParams,o)}),d("setTranslate",()=>{r.params.effect===e&&x()}),d("setTransition",(o,n)=>{r.params.effect===e&&p(n)}),d("transitionEnd",()=>{if(r.params.effect===e&&l){if(!c||!c().slideShadows)return;r.slides.forEach(o=>{o.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(n=>n.remove())}),l()}});let m;d("virtualUpdate",()=>{r.params.effect===e&&(r.slides.length||(m=!0),requestAnimationFrame(()=>{m&&r.slides&&r.slides.length&&(x(),m=!1)}))})}function V(i,e){const r=y(e);return r!==e&&(r.style.backfaceVisibility="hidden",r.style["-webkit-backface-visibility"]="hidden"),r}function $(i){let{swiper:e,duration:r,transformElements:d,allSlides:x}=i;const{activeIndex:p}=e,a=t=>t.parentElement?t.parentElement:e.slides.filter(c=>c.shadowRoot&&c.shadowRoot===t.parentNode)[0];if(e.params.virtualTranslate&&r!==0){let t=!1,l;x?l=d:l=d.filter(c=>{const m=c.classList.contains("swiper-slide-transform")?a(c):c;return e.getSlideIndex(m)===p}),l.forEach(c=>{k(c,()=>{if(t||!e||e.destroyed)return;t=!0,e.animating=!1;const m=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(m)})})}}function M(i){let{swiper:e,extendParams:r,on:d}=i;r({fadeEffect:{crossFade:!1}}),I({effect:"fade",swiper:e,on:d,setTranslate:()=>{const{slides:a}=e,t=e.params.fadeEffect;for(let l=0;l<a.length;l+=1){const c=e.slides[l];let o=-c.swiperSlideOffset;e.params.virtualTranslate||(o-=e.translate);let n=0;e.isHorizontal()||(n=o,o=0);const E=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(c.progress),0):1+Math.min(Math.max(c.progress,-1),0),B=V(t,c);B.style.opacity=E,B.style.transform=`translate3d(${o}px, ${n}px, 0px)`}},setTransition:a=>{const t=e.slides.map(l=>y(l));t.forEach(l=>{l.style.transitionDuration=`${a}ms`}),$({swiper:e,duration:a,transformElements:t,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const D="Q9SM",q="uHTD",L="RLt-",R="Yhbp",F="unwz",K="asOo",O="Rxde",z="W8TP",u={mainBannerDesc:D,mainBannerMoreBtn:q,listTitle:L,popularTitle:R,mainButtonPrev:F,popularButtonPrev:K,mainButtonNext:O,popularButtonNext:z};function T({classTitle:i,listTitle:e,genreId:r,startNum:d,endNum:x}){const[p,a]=f.useState([]),[t,l]=f.useState("pending"),[c,m]=f.useState(null);return f.useEffect(()=>{l("loading"),Promise.all([b.collection("program").getFullList(),b.collection("movie").getFullList()]).then(([o,n])=>{a([{title:"TV 프로그램",data:o},{title:"영화",data:n}]),l("success")}).catch(o=>{m(o),l("error")})},[]),s.jsxs("section",{className:i,children:[s.jsx("h3",{className:`${i}List ${u.listTitle}`,children:e}),p==null?void 0:p.map(o=>o.title==="영화"&&s.jsxs(h,{slidesPerView:7,breakpoints:{480:{slidesPerView:5},768:{slidesPerView:6},1024:{slidesPerView:7}},slidesPerGroup:3,spaceBetween:10,navigation:{nextEl:"#mainNextButton",prevEl:"#mainPrevButton",keyboard:!0,onlyInViewport:!1},pagination:{clickable:!0},modules:[v,g],tabIndex:0,className:"overflow-y-visible mb-10 px-10",children:[o.data.filter(n=>n.genre===r).map(n=>s.jsx(j,{children:s.jsxs(N,{to:`contents/${n.id}`,children:[s.jsx("img",{src:P(n,"poster"),alt:n.title}),s.jsx("p",{className:"text-gray200 text-xl mt-2",children:n.title})]})},n.id)),s.jsx("div",{className:`swiper-button-prev ${u.mainButtonPrev}`,id:"mainPrevButton",onKeyDown:n=>{n.key==="Enter"&&n.currentTarget.click()},role:"button",tabIndex:0}),s.jsx("div",{className:`swiper-button-next ${u.mainButtonNext}`,id:"mainNextButton",onKeyDown:n=>{n.key==="Enter"&&n.currentTarget.click()},role:"button",tabIndex:0})]},o.title))]})}T.propTypes={classTitle:w.string.isRequired,listTitle:w.string.isRequired,genreId:w.string.isRequired,startNum:w.number,endNum:w.number};const G="/react-project-7/assets/streetwoman.webp",A="/react-project-7/assets/dongwon-uquiz.webp",H="/react-project-7/assets/lie.webp";function U(){const i=[{id:"q1pqyij1cmjidxh",title:"스트릿우먼파이터",img:G,desc:"K-POP 데스 매치 미션"},{id:"sjjmb2un0496h9z",title:"유퀴즈 온 더 블럭",img:A,desc:"강동원, 20년만의 예능 출연!"},{id:"7ew1rjbtkqfhwee",title:"소용없어 거짓말",img:H,desc:"김소현X황민현의 쌍방구원 로맨스"}];return s.jsxs(h,{className:"mySwiper homeMain ${S.homeGradient}",loop:"true",navigation:{nextEl:"#homeNextButton",prevEl:"#homePrevButton",keyboard:!0,onlyInViewport:!1},autoplay:!0,effect:"fade",pagination:{clickable:!0},modules:[v,M,S,g],tabIndex:0,children:[i&&i.map(e=>s.jsx("div",{children:s.jsxs(j,{children:[s.jsx("img",{src:e.img,alt:e.title}),s.jsx("span",{className:u.mainBannerDesc,children:e.desc}),s.jsx(N,{to:`/contents/${e.id}`,className:u.mainBannerMoreBtn,alt:e.title,children:s.jsx("button",{children:"자세히 보기"})},e.id)]},e.id)},e.id)),s.jsx("div",{className:"swiper-button-prev",id:"homePrevButton",onKeyDown:e=>{e.key==="Enter"&&e.currentTarget.click()},role:"button",tabIndex:0}),s.jsx("div",{className:"swiper-button-next",id:"homeNextButton",onKeyDown:e=>{e.key==="Enter"&&e.currentTarget.click()},role:"button",tabIndex:0})]})}function J(){const[i,e]=f.useState([]),[r,d]=f.useState("pending"),[x,p]=f.useState(null);return f.useEffect(()=>{d("loading"),Promise.all([b.collection("program").getFullList(),b.collection("movie").getFullList()]).then(([a,t])=>{e([{title:"TV 프로그램",data:a},{title:"영화",data:t}]),d("success")}).catch(a=>{p(a),d("error")})},[]),s.jsxs("div",{className:"mainPage bg-black w-screen overflow-hidden",children:[s.jsx(U,{}),s.jsxs("section",{className:"popular",children:[s.jsx("h3",{className:u.popularTitle,children:"타잉 인기 영화"}),i==null?void 0:i.map(a=>a.title==="영화"&&s.jsxs(h,{slidesPerView:7,breakpoints:{480:{slidesPerView:5},768:{slidesPerView:6},1024:{slidesPerView:7}},slidesPerGroup:3,spaceBetween:10,navigation:{nextEl:"#popularNextButton",prevEl:"#popularPrevButton",keyboard:!0,onlyInViewport:!1},pagination:{clickable:!0},modules:[v,g],tabIndex:0,className:"overflow-y-visible mb-10 px-10",children:[a.data.slice(27,38).map(t=>s.jsx(j,{children:s.jsxs(N,{to:`contents/${t.id}`,children:[s.jsx("img",{src:P(t,"poster"),alt:t.title}),s.jsx("p",{className:"text-gray200 text-xl mt-2",children:t.title})]})},t.id)),s.jsx("div",{className:`swiper-button-prev ${u.mainButtonPrev}`,id:"popularPrevButton",onKeyDown:t=>{t.key==="Enter"&&t.currentTarget.click()},role:"button",tabIndex:0}),s.jsx("div",{className:`swiper-button-next ${u.mainButtonNext}`,id:"popularNextButton",onKeyDown:t=>{t.key==="Enter"&&t.currentTarget.click()},role:"button",tabIndex:0})]},a.title))]}),s.jsxs("section",{className:"popular",children:[s.jsx("h3",{className:u.popularTitle,children:"타잉 인기 드라마"}),i==null?void 0:i.map(a=>a.title==="TV 프로그램"&&s.jsxs(h,{slidesPerView:7,breakpoints:{480:{slidesPerView:5},768:{slidesPerView:6},1024:{slidesPerView:7}},slidesPerGroup:3,spaceBetween:10,navigation:{nextEl:"#popularTvNextButton",prevEl:"#popularTvPrevButton",keyboard:!0,onlyInViewport:!1},pagination:{clickable:!0},modules:[v,g],tabIndex:0,className:"overflow-y-visible mb-10 px-10",children:[a.data.slice(27,38).map(t=>s.jsx(j,{children:s.jsxs(N,{to:`contents/${t.id}`,children:[s.jsx("img",{src:P(t,"poster"),alt:t.title}),s.jsx("p",{className:"text-gray200 text-xl mt-2",children:t.title})]})},t.id)),s.jsx("div",{className:`swiper-button-prev ${u.mainButtonPrev}`,id:"popularTvPrevButton",onKeyDown:t=>{t.key==="Enter"&&t.currentTarget.click()},role:"button",tabIndex:0}),s.jsx("div",{className:`swiper-button-next ${u.mainButtonNext}`,id:"popularTvNextButton",onKeyDown:t=>{t.key==="Enter"&&t.currentTarget.click()},role:"button",tabIndex:0})]},a.title))]}),s.jsx(T,{classTitle:"romance",listTitle:"사랑에 빠지는 순간, 로맨스 영화",genreId:"n0ztxfbdj977ycx",startNum:0,endNum:10}),s.jsx(T,{classTitle:"horror",listTitle:"불 끄면 생각날걸 ? 공포영화",genreId:"cpcr28a1nvppyow",startNum:0,endNum:10})]})}export{J as default};
