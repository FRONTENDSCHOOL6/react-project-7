import{p as d,j as e,W as T}from"./index-5bf7e9d9.js";import{r as l}from"./react-7b82c02c.js";import{h as C,s as S,A as k,u as y}from"./red-check-178813c9.js";import{d as D}from"./reactRouter-7cbd2f1e.js";import"prop-types";import"./extra-3c07f53d.js";const o="/react-project-7/assets/small-red-check.svg",n="/react-project-7/assets/small-gray-check.svg",L="/react-project-7/assets/clear-all.svg";function X(){const v=D(),A=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,12}$/,I=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,P=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,15}$/;console.log(d);const[U,g]=l.useState(!1),[f,b]=l.useState(!1),V=()=>{f?(g(y),b(!1)):(g(k),b(!0))},[B,j]=l.useState(!1),[t,w]=l.useState(!1),i=()=>{t?(j(o),w(!1)):(j(n),w(!0))},[a,$]=l.useState({username:"",email:"",password:"",passwordConfirm:""}),[s,H]=l.useState({username:!1,email:!1,password:!1,passwordConfirm:!1});l.useState({username:!1,email:!1,password:!1,passwordConfirm:!1});const N=()=>Object.values(s).every(m=>m===!1),[x,z]=l.useState(!0),[h,R]=l.useState(!0),E=async m=>{m.preventDefault();const{password:p,passwordConfirm:r}=a;if(p!==r){alert("비밀번호가 일치하지 않습니다. 다시 입력하세요.");return}await d.collection("users").create({...a,emailVisibility:!0}),console.log(d.authStore),console.log("pb.authStore.id=",d.authStore.model.id),console.log("pb.authStore.email=",d.authStore.model.email),console.log("pb.authStore.password=",d.authStore.model.password),console.log("pb.auStore.token=",d.authStore.token),console.log("pb.auStore.fovaoriteMovie=",d.authStore.model.favoriteMovie),v("/")},u=m=>{const{name:p,value:r}=m.target;let c;switch(p){case"username":c=A.test(r);break;case"email":c=I.test(r);break;case"password":c=P.test(r);break;case"passwordConfirm":c=a.password===r;break;default:return}H({...s,[p]:!c}),c&&$({...a,[p]:r})},M=((m,p=100)=>{let r;return(...c)=>{clearTimeout(r),r=setTimeout(m.bind(null,...c),p)}})(u,100),Z=()=>{z(!x)},F=()=>{R(!h)};return e.jsxs(e.Fragment,{children:[e.jsx(T,{children:e.jsx("title",{children:"SignUp - Taing"})}),e.jsx("div",{className:"bg-black h-screen z-50",children:e.jsxs("div",{className:"wrapper pt-[70px] text-white login-title leading-10 container w-1/3 mx-auto align-middle",children:[e.jsx("h3",{className:"text-white pb-[30px] font-semibold text-4xl flex justify-center",children:"티빙 회원가입"}),e.jsx("p",{className:"text-gray300 font-bold text-xl text-center pb-10",children:"아이디와 이메일로 간편하게 티빙을 시작하세요!"}),e.jsxs("form",{onSubmit:E,children:[e.jsxs("span",{className:"relative",children:[e.jsx("input",{type:"text",label:"아이디",name:"username",id:"username",defaultValue:a.username,className:"text-white h-16 bg-gray800 placeholder-slate-600 login-form px-4 w-full rounded-sm",placeholder:"아이디",onChange:M}),e.jsx("img",{src:L,alt:"아이디 입력 초기화",className:"hidden absolute top-[5%] right-5 cursor-pointer"})]}),s.username?e.jsx("p",{className:`text-red-500 ${s.username?"border-red-600":""}`,children:"영문 소문자 또는 영문 소문자, 숫자 조합 6~12자리로 입력해주세요"}):e.jsx("p",{className:"text-gray500",children:"영문 소문자 또는 영문 소문자, 숫자 조합 6~12자리"}),e.jsxs("label",{className:"relative",children:[e.jsx("input",{type:x?"password":"text",label:"비밀번호",name:"password",id:"password",defaultValue:a.password,onChange:u,className:` ${s.password?"border-red-500":(!s.password&&a.password!=="","border-slate-300")} text-white h-16 mt-3 bg-gray800 placeholder-slate-600 login-form px-4 w-full rounded-sm`,placeholder:"비밀번호"}),e.jsx("img",{src:x?C:S,alt:"비밀번호 숨김/표시 아이콘",onClick:Z,className:"cursor-pointer absolute right-[24px] top-3 first-line:transform -translate-y-1/2"})]}),s.password&&e.jsx("span",{className:"text-red-500 text-base",children:"비밀번호는 영문, 숫자를 포함하여 8~16자로 입력해주세요."}),e.jsxs("label",{className:"relative",children:[e.jsx("input",{type:h?"password":"text",label:"비밀번호 확인",name:"passwordConfirm",id:"passwordConfirm",defaultValue:a.passwordConfirm,placeholder:"비밀번호 확인",onChange:u,className:`${s.passwordConfirm?"border-red-500":!s.passwordConfirm&&a.passwordConfirm!==""?"border-green-600":"border-slate-400"}
									text-white h-16 mt-3 bg-gray800 placeholder-slate-600 login-form px-4 w-full rounded-sm`}),e.jsx("img",{src:h?C:S,alt:"비밀번호 숨김/표시 아이콘",onClick:F,className:"cursor-pointer absolute right-[24px] top-3 first-line:transform -translate-y-1/2"})]}),s.passwordConfirm?e.jsx("span",{className:"text-red-500 text-base",children:"비밀번호가 일치하지 않습니다. 다시 확인해주세요."}):e.jsxs("span",{className:"text-gray500 text-base",children:["영문, 숫자, 특수문자(~!@#$%^&*) 조합 8~15 자리"," "]}),e.jsx("input",{type:"email",label:"이메일",name:"email",id:"email",defaultValue:a.email,className:"text-white h-16 mt-3 bg-gray800 placeholder-slate-600 login-form px-4 w-full rounded-sm",placeholder:"이메일",onChange:u}),s.email&&e.jsx("span",{className:"text-red-500 text-base",children:"올바른 이메일 형식으로 입력해주세요."}),e.jsxs("div",{className:"pt-6 text-gray400",children:[e.jsxs("span",{className:"flex pb-2",children:[e.jsx("img",{src:f?k:y,alt:"자동 로그인",onClick:V,className:"pr-3 cursor-pointer"}),e.jsx("p",{className:"font-bold text-lg",children:"필수 및 선택 항목을 모두 포함하여 동의합니다."})]}),e.jsxs("span",{className:"flex",children:[e.jsx("img",{src:t?o:n,alt:"약관동의 체크",onClick:i,className:"right-1/5 pr-3 cursor-pointer"}),e.jsx("p",{children:"만 14세 이상입니다."})]}),e.jsxs("span",{className:"flex",children:[e.jsx("img",{src:t?o:n,alt:"약관동의 체크",onClick:i,className:"right-1/5 pr-3 cursor-pointer"}),e.jsx("p",{children:"[필수] 서비스 이용약관 동의"})]}),e.jsxs("span",{className:"flex",children:[e.jsx("img",{src:t?o:n,alt:"약관동의 체크",onClick:i,className:"right-1/5 pr-3 cursor-pointer"}),e.jsx("p",{children:"[필수] 개인정보 수집 및 이용 동의"})]}),e.jsxs("p",{className:"flex",children:[e.jsx("img",{src:t?o:n,alt:"약관동의 체크",onClick:i,className:"right-1/5 pr-3 cursor-pointer"}),"[선택] 개인정보 수집 및 이용 동의"]}),e.jsxs("p",{className:"flex",children:[e.jsx("img",{src:t?o:n,alt:"마케팅 정보 수신 동의",onClick:i,className:"right-1/5 pr-3 cursor-pointer"}),"[선택] 마케팅 정보 수신 동의"]}),e.jsxs("span",{className:"flex pl-8 pr-3 pb-3",children:[e.jsxs("span",{className:"flex pr-5",children:[e.jsx("img",{src:t?o:n,alt:"푸시알림 수신 동의",onClick:i,className:"right-1/5 pr-[7px] cursor-pointer"}),"푸시 알림"]})," ",e.jsxs("span",{className:"flex pr-5",children:[e.jsx("img",{src:t?o:n,alt:"이메일 수신 동의",onClick:i,className:"right-1/5 pr-[7px] cursor-pointer"}),"이메일"]})," ",e.jsxs("span",{className:"flex",children:[e.jsx("img",{src:t?o:n,alt:"SMS 수신 동의",onClick:i,className:"right-1/5 pr-[7px] cursor-pointer"}),"SMS"]})]})]}),e.jsx("button",{type:"submit",disabled:!N(),className:`h-16 bg-gray700 font-bold text-white login-button w-full rounded-sm"
						${N()?"bg-gray700 dark:hover:bg-[#cc1030] cursor-pointer":"bg-gray700 cursor-not-allowd"}`,children:"가입하기"})]})]})})]})}export{X as default};
