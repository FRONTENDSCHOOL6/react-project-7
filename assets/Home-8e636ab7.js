import{g as y,e as B,p as E,j as n,S as w,N as h,P as b,a as v,b as P}from"./index-c5a7e0cc.js";import{L as N}from"./reactRouter-7cbd2f1e.js";import{r as x}from"./react-7b82c02c.js";import{A as S}from"./autoplay-aba34fad.js";import"./extra-21235489.js";function T(r){const{effect:e,swiper:t,on:l,setTranslate:u,setTransition:f,overwriteParams:i,perspective:s,recreateShadows:a,getEffectParams:o}=r;l("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),s&&s()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const c=i?i():{};Object.assign(t.params,c),Object.assign(t.originalParams,c)}),l("setTranslate",()=>{t.params.effect===e&&u()}),l("setTransition",(c,m)=>{t.params.effect===e&&f(m)}),l("transitionEnd",()=>{if(t.params.effect===e&&a){if(!o||!o().slideShadows)return;t.slides.forEach(c=>{c.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(m=>m.remove())}),a()}});let d;l("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(d=!0),requestAnimationFrame(()=>{d&&t.slides&&t.slides.length&&(u(),d=!1)}))})}function k(r,e){const t=y(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function I(r){let{swiper:e,duration:t,transformElements:l,allSlides:u}=r;const{activeIndex:f}=e,i=s=>s.parentElement?s.parentElement:e.slides.filter(o=>o.shadowRoot&&o.shadowRoot===s.parentNode)[0];if(e.params.virtualTranslate&&t!==0){let s=!1,a;u?a=l:a=l.filter(o=>{const d=o.classList.contains("swiper-slide-transform")?i(o):o;return e.getSlideIndex(d)===f}),a.forEach(o=>{B(o,()=>{if(s||!e||e.destroyed)return;s=!0,e.animating=!1;const d=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});e.wrapperEl.dispatchEvent(d)})})}}function V(r){let{swiper:e,extendParams:t,on:l}=r;t({fadeEffect:{crossFade:!1}}),T({effect:"fade",swiper:e,on:l,setTranslate:()=>{const{slides:i}=e,s=e.params.fadeEffect;for(let a=0;a<i.length;a+=1){const o=e.slides[a];let c=-o.swiperSlideOffset;e.params.virtualTranslate||(c-=e.translate);let m=0;e.isHorizontal()||(m=c,c=0);const j=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(o.progress),0):1+Math.min(Math.max(o.progress,-1),0),g=k(s,o);g.style.opacity=j,g.style.transform=`translate3d(${c}px, ${m}px, 0px)`}},setTransition:i=>{const s=e.slides.map(a=>y(a));s.forEach(a=>{a.style.transitionDuration=`${i}ms`}),I({swiper:e,duration:i,transformElements:s,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})}const D="egQ4",$="Q9SM",L="Yhbp",M="asOo",K="W8TP",p={mainBannerContent:D,mainBannerDesc:$,popularTitle:L,popularButtonPrev:M,popularButtonNext:K};function F(){const r=[{id:1,title:"스트릿우먼파이터",img:"/assets/home/streetwoman.webp",desc:"K-POP 데스 매치 미션"},{id:2,title:"천박사 퇴마 연구소",img:"/assets/home/exorcism.webp",content:"올 추석, 가짜 퇴마사",contentSub:" 강동원이 온다!",desc:"<천박사 퇴마 연구소> 예매권 증정 이벤트"},{id:3,title:"소용없어 거짓말",img:"/assets/home/lie.webp",desc:"김소현X황민현의 쌍방구원 로맨스"}];x.useEffect(()=>(document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}),[]);const e=t=>{t.key==="Enter"&&(t.preventDefault(),t.target.click())};return n.jsxs(w,{className:"mySwiper homeMain ${S.homeGradient}",loop:"true",navigation:{nextEl:"#homeNextButton",prevEl:"#homePrevButton",keyboard:!0,onlyInViewport:!1},autoplay:!0,effect:"fade",pagination:{clickable:!0},modules:[h,V,S,b],tabIndex:0,children:[r&&r.map(t=>n.jsxs(v,{children:[n.jsx("img",{src:t.img,alt:t.title}),n.jsxs("p",{className:p.mainBannerContent,children:[t.content,n.jsx("span",{className:"block",children:t.contentSub})]},t.id),n.jsx("span",{className:p.mainBannerDesc,children:t.desc})]},t.id)),n.jsx("div",{className:"swiper-button-prev",id:"homePrevButton",onKeyDown:e,role:"button",tabIndex:0}),n.jsx("div",{className:"swiper-button-next",id:"homeNextButton",onKeyDown:e,role:"button",tabIndex:0})]})}function q(){const[r,e]=x.useState([]),[t,l]=x.useState("pending"),[u,f]=x.useState(null);x.useEffect(()=>(document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}),[]);const i=s=>{s.key==="Enter"&&(s.preventDefault(),s.target.click())};return x.useEffect(()=>{l("loading"),Promise.all([E.collection("program").getFullList(),E.collection("movie").getFullList()]).then(([s,a])=>{e([{title:"TV 프로그램",data:s},{title:"영화",data:a}]),l("success")}).catch(s=>{f(s),l("error")})},[]),n.jsxs("div",{className:"bg-black w-screen overflow-hidden",children:[n.jsx(F,{}),n.jsxs("section",{className:"popular",children:[n.jsx("h3",{className:p.popularTitle,children:"타잉 인기 영화"}),r==null?void 0:r.map(s=>s.title==="영화"&&n.jsxs(w,{slidesPerView:7,breakpoints:{480:{slidesPerView:5},768:{slidesPerView:6},1024:{slidesPerView:7}},slidesPerGroup:3,spaceBetween:10,navigation:{nextEl:"#popularNextButton",prevEl:"#popularPrevButton",keyboard:!0,onlyInViewport:!1},pagination:{clickable:!0},modules:[h,b],tabIndex:0,className:"overflow-visible mb-10 px-10",children:[s.data.slice(27,38).map(a=>n.jsx(v,{children:n.jsxs(N,{to:`contents/${a.id}`,children:[n.jsx("img",{src:P(a,"poster"),alt:a.title}),n.jsx("p",{className:"text-gray200 text-xl mt-2",children:a.title})]})},a.id)),n.jsx("div",{className:`swiper-button-prev ${p.popularButtonPrev}`,id:"popularPrevButton",onKeyDown:i,role:"button",tabIndex:0}),n.jsx("div",{className:`swiper-button-next ${p.popularButtonNext}`,id:"popularNextButton",onKeyDown:i,role:"button",tabIndex:0})]},s.title))]}),n.jsxs("section",{className:"popular",children:[n.jsx("h3",{className:p.popularTitle,children:"타잉 인기 드라마"}),r==null?void 0:r.map(s=>s.title==="TV 프로그램"&&n.jsxs(w,{slidesPerView:7,breakpoints:{480:{slidesPerView:5},768:{slidesPerView:6},1024:{slidesPerView:7}},slidesPerGroup:3,spaceBetween:10,navigation:{nextEl:"#popularNextButton",prevEl:"#popularPrevButton",keyboard:!0,onlyInViewport:!1},pagination:{clickable:!0},modules:[h,b],tabIndex:0,className:"overflow-visible mb-10 px-10",children:[s.data.slice(27,38).map(a=>n.jsx(v,{children:n.jsxs(N,{to:`contents/${a.id}`,children:[n.jsx("img",{src:P(a,"poster"),alt:a.title}),n.jsx("p",{className:"text-gray200 text-xl mt-2",children:a.title})]})},a.id)),n.jsx("div",{className:`swiper-button-prev ${p.popularButtonPrev}`,id:"popularPrevButton",onKeyDown:i,role:"button",tabIndex:0}),n.jsx("div",{className:`swiper-button-next ${p.popularButtonNext}`,id:"popularNextButton",onKeyDown:i,role:"button",tabIndex:0})]},s.title))]})]})}export{q as default};
